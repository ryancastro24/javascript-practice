<!DOCTYPE html>
<html>
<head>
	<title>Counter</title>
	<script type="text/javascript">

			if(!localStorage.getItem('counter')){
				localStorage.setItem('counter', 1000)
			}	
			

			let runningCount = setInterval(count, 1000);
			function count(){
				let counter = localStorage.getItem('counter');
				counter--;
				document.querySelector("h1").innerHTML = counter;

				localStorage.setItem('counter', counter);
				if(counter == 420){
					clearInterval(runningCount);
					document.querySelector("h1").innerHTML = "we stop at 420";
				}
			}
		document.addEventListener("DOMContentLoaded", () =>{
			document.querySelector("h1").innerHTML = localStorage.getItem("counter");
			document.querySelector("button").onclick = count;			
		})
	</script>
</head>
<body>

	<h1>0</h1>
	<button>count</button>

</body>
</html>